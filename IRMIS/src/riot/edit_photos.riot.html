<edit_photos>
    <div class="content-wrapper">
        <h5>{ window.gettext("Inventory Photos") }</h5>
        <upload_photo photoId="{photoId1}" photo="{state.photo1}" fkLink="{state.fkLink}"
            showFeedback="{props.showFeedback}">
        </upload_photo>
        <upload_photo photoId="{photoId2}" photo="{state.photo2}" fkLink="{state.fkLink}"
            showFeedback="{props.showFeedback}">
        </upload_photo>
    </div>

    <script>
        import Upload_Photo from "./upload_photo.riot.html";
        import {makeEstradaPhoto} from "../assets/models/photo";

        export default {
            components: {
                Upload_Photo
            },
            state: {
                photos: [],
                fkLink: undefined,
            },
            onBeforeMount(props, state) {
                if (props.structure) {
                    state.photos = props.structure.inventoryPhotos.map(makeEstradaPhoto);
                    state.fkLink = props.structure.id;
                } else if (props.asset) {
                    state.photos = props.asset.inventoryPhotos.map(makeEstradaPhoto);
                    state.fkLink = "ROAD-" + props.asset.id;
                }
                state.photo1 = state.photos[0] ? state.photos[0] : undefined;
                state.photo2 = state.photos[1] ? state.photos[1] : undefined;
            },
            photoId1: "inventoryPhoto1",
            photoId2: "inventoryPhoto2",
        }
    </script>
</edit_photos>
