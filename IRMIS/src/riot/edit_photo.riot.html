<edit_photo>
    <div class="content-wrapper">
        <h5>{ window.gettext("Inventory Photos") }</h5>
        <upload_photo photo="{state.photo1}" fkLink="{props.fkLink}" showFeedback="{ props.showFeedback }">
        </upload_photo>
        <upload_photo photo="{state.photo2}" fkLink="{props.fkLink}" showFeedback="{ props.showFeedback }">
        </upload_photo>
    </div>

    <script>
        import Upload_Photo from "./upload_photo.riot.html";
        import {makeEstradaPhoto} from "../assets/models/photo";

        export default {
            components: {
                Upload_Photo
            },
            state: {},
            onBeforeMount(props, state) {
                state.photos = props.structure.photos.map(makeEstradaPhoto);
                if (state.photos && state.photos.length > 0) {
                    state.photo1 = state.photos[0] ? state.photos[0] : undefined;
                    state.photo2 = state.photos[1] ? state.photos[1] : undefined;
                }
            },
        }
    </script>
</edit_photo>
