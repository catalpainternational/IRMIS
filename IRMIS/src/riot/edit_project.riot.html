<edit_project>
    <h5>{ window.gettext ("Project") }</h5>

    <section>
        <div class="form-group">
            <label>{ funding_source.display }</label>
            <small class="form-text text-muted">{ props.parent.getHelpText("funding_source") }</small>
            <input class="{ props.road.fundingSource ? '' : 'inactive' } form-control" type="text" maxlength="50" placeholder="{ window.gettext ('E.g. IF') }" value="{ props.road.fundingSource }" oninput="{ checkFundingSource }">
        </div>
        <div class="form-group">
            <label>{ road_status.display }</label>
            <small class="form-text text-muted">{ props.parent.getHelpText("road_status") }</small>
            <ul class="status">
                <li each="{ roadStatus in road_status.options }" data-status="{ roadStatus.code }" onclick="{ checkRoadStatus }">
                    <span class="{ roadStatus.code === props.road.getRoadStatus() ? 'active' : ''  } radio image"></span>
                    { roadStatus.name }
                </li>
            </ul>
        </div>
        <div class="form-group">
            <label>{ project.display }</label>
            <small class="form-text text-muted">{ props.parent.getHelpText("project") }</small>
            <input class="{ props.road.project ? '' : 'inactive' } form-control" type="text" maxlength="150" placeholder="{ window.gettext ('E.g. DBHP 2016-2022') }" value="{ props.road.project }" oninput="{ checkProject }">
        </div>
    </section>

    <div class="button-wrapper d-flex justify-content-end">
        <button class="btn btn-primary" onclick="{ save }" disabled="{ props.saving }">{ window.gettext ("Save and continue") }</button>
    </div>

    <script>
        export default {
            save(e) {
                this.props.parent.save();
            },
            checkFundingSource(e) {
                this.props.road.setFundingSource(e.currentTarget.value);
                this.update();
            },
            checkRoadStatus(e) {
                this.props.road.setRoadStatus(e.currentTarget.dataset.status);
                this.update();
            },
            checkProject(e) {
                this.props.road.setProject(e.currentTarget.value);
                this.update();
            },
            funding_source: window.asset_schema.funding_source,
            road_status: window.asset_schema.road_status,
            project: window.asset_schema.project,
        }
    </script>
</edit_project>
